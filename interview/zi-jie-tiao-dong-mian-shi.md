# 字节跳动面试

## 第一个

```python
个人情况
211本 工作两年半 一直在写C++

面试部门
字节跳动上海穿山甲团队

面试时间
10.20-11.14

一面
算法题：LRU缓存实现，要求set\get操作o(1)时间复杂度，leetcode有原题

技术问题：

TCP滑动窗口
浏览器访问baidu.com的过程
https原理
epoll实现原理，和poll的对比
关于kafka的一个小问题
TCP握手挥手细节（特别细...）
MYSQL存储结构，主键索引和非主键索引在MYSQL中是如何存储、查找的
二面
算法题：一个N位数K，从N位中去掉M个数字，使剩下的数字最大，leetcode有类似题

技术问题：

SQL聚合查询语法（这个忘了竟然- -||）
一个SQL语句的执行过程
TCP拥塞控制
rb-tree和b+-tree的区别，INNODB为什么用b+-tree
给了两个事务，问在各种隔离级别下的执行结果
MVCC原理
ACID的涵义，MYSQL是如何保证的
三面（偏业务面）
算法题：单链表排序

（聊了很长时间的项目经验，问了啥问题已经是想不起来了...）
技术问题：

redis sds实现
缓存失效的几种场景，以及解决方案
四面（leader面）
算法题：二叉查找

技术问题：

goroutine的实现
缓存雪崩、击穿的解决方案
如何排查线上程序问题
protobuf为什么快
epoll原理
分布式系统优缺点，一致性是如何保证的
MYSQL存储结构
CPU寻址过程，cache miss,TLB,页表...
在linux上执行ls操作系统做了什么（这个在6.S081上看过，刚好会，哈哈）
职业规划，愿意转go吗
总结感受
字节面试流程还是比较快的，HR比较积极
前两轮面试感觉不是特别好，http协议这块是真的不熟悉，说实话前两面给我不过我都是可以接受的，但leader面我觉得可以给自己打个90分
面试官人都很不错，状态很轻松
每一轮基本都是自我介绍，项目经验，技术问题，算法题这个流程，每轮时间1个小时，算法题半小时
字节社招的算法题基本都是leetcode中等以下难度的，我这四轮感觉是2easy 2medium
后记
```

## 第二个

```python
前言
七月上旬，南京技术中台一面凉。隔了一周发感谢信并被北京教育部门捞去参加笔试，题目比较简单全AC，后一面二面很快过了，三面凉，换部门三面过，主动问hr是本周发起offer审批，想问offer审批会挂人吗？

南京一面 7.13
参考之前的凉经: 南京技术中台一面凉经

面完后补了下 高性能mysql 和 redis设计与实现，对后面的此类问题帮助很大。

北京教育笔试 7.22
3道题，比较简单，全AC，隔天收到面试邀请

一面 7.25
自我介绍
介绍了项目经历

go
问简历上写的 Gin 框架的特点，以及源码的问题，虽然之前看过源码了，时间太长有点不太清楚了，但总体感觉还行。

算法及sql
1.手写快排
2.sql这块因为没看，所以不会，当天结束二面之后立马去恶补了，发现相当简单。推荐看sql必知必会

计算机网络
TCP
HTTPS
打开一个URL的过程

Redis Mysql
Redis的数据结构，和你的使用
Mysql索引相关

二面 7.25
一面结束之后期间经历两次改二面时间，等了半小时二面面试官来了，这一面感觉我回答的很好，对我的评价也挺高的，所以后面三面凉了还被捞了。

自我介绍
略。

Redis
数据结构
持久化方式和区别，我讲的很细也很深，讲了Redis启动顺序，到AOF重写等等。
计算机网络
打开一个URL的过程
此处我并没有按照面经模板去谈，而是根据我自己实际的使用讲了很多，如我说了DNS缓存，本地缓存，浏览器缓存，还有清除DNS缓存的命令等。面试官比较满意。

TCP和UDP区别，报文的差异

close-wait 作用

三次握手的原因，为什么不是两次

操作系统
记得不清楚了，没怎么问这块

Mysql
给了几个sql语句，判断查询是否能覆盖索引，需要考虑 聚簇索引和联合索引的顺序。
Mysql索引的数据结构和MongoDB的数据结构
算法
二数相加的组合
参考3数相加即可
反问
记得不清了，后面问评价的时候，他说校招生这个水平可以了。

三面 7.27 凉
面试官在听到没有去实习后，基本就不感兴趣了，也有其他同学遭遇过一模一样的经历。。

自我介绍
略，面试官并不感兴趣。

算法
跳跃游戏 + 优化
dp解法写出来了，优化当时没想出来，面试官也没有给任何的提示，直接过了
其他
随便问了几个问题就结束了。

四面(换部门) 7.31
自我介绍
...

算法
36进制字符串加法
参考 字符串加法即可，面试官给了错误的例子，后面和他说了下，算法就结束了。
操作系统
进程和线程哪个开销大，为什么?

计算机网络
TCP属于哪一层，再往下一层有哪些协议
打开URL的过程。
sql
left join

反问
算法和实习是不是在面试评价中占有很大比重
回答是的，所以大家加油吧。
想要胜任此职位，还有哪些方面存在不足
回答技术栈基本相同，就是要在深度以及性能上有较深的认识，还给举了个例子，redis在多少数量级下存在性能问题等。
总结
算法和实习比较重要！总体可能是因为部门问题所以难度不是很大？
```

## 第三个

```python

一二面两天面完，然后三面约到了5天后晚上十点，第二天就收到感谢信了
base是北京 后端开发工程师-视频架构

一面：
1. 操作系统内存管理
2. 线程 协程 GMP模型
3. TCP UDP
4. TCP的可靠性
5.  三次握手 四次挥手
6. MySQL 两种引擎
7. delete和truncate
8. go的几个语法 defer chan什么的
9. 写题 二叉树非递归前序遍历

二面：
前面一直在问实习的和学校里的经历

1. 断点调试的原理
2. ctrl + c 会发生什么 原理
3. 线程的状态 sleep前后会怎么样
4. 路由器ip包进路由器到出路由器哪些变了 数据链路层呢
5. https证书校验
6. NAT
7. 写题 给一长串带‘../’ ‘./’ linux文件路径 输出真实路径
没有反问 当时以为挂了 后面发现过了

三面：
三面搞得心态很崩 很晚了 面试官也一直好像不想问一样

1. traceroute原理
2. 协程 栈内存少 不是会很容易爆栈吗
3. 写题 写一个会爆栈的代码
写了scanf 说不要输入
又写了无限递归 说太慢了 要快 减少递归深度
然后多写了几个参数 指数级递归 还是说不行
给一段c代码 一个main() 里面有个int变量 一个function() 没有形参 要求改变main函数Int值
没有算法题
```

## 第四个

```python
1.25下午，已感谢信

前几天一下午面了完了3面，结果hr说要给我加一面😅应该是因为答的太差了
1.24下午16点四面

1. 自我介绍
2. 实习收货
3. 未来规划
4. 项目
5. token session cookie
6. go map
7. sync.map
8. 建堆过程
9. 建堆复杂度，手算
10. tcp三握四挥
11. syn flood
12. syn cookie
13. 算法 单链表快排。没做过，没撕出来(dbq是我太菜了)😅
```

## 第五个

```python
字节跳动-今日头条-一面
2021-2-23 用时 50 min
按顺序问了 操作系统，计算机网络，golang，mysql，docker，算法

操作系统
进程和线程的区别

进程间通信 和 线程间通信

虚拟内存，共享内存，常驻内存

软连接和硬连接

文件和目录的区别

计算机网络
TCP 握手为什么是三次

TCP 和 UDP 的区别

让你基于 UDP 再设计一个可靠的协议，如何设计？

了解过 QUIC 吗

http 和 https 的区别

http 和 https 的应用场景

https 最耗时的环节

golang
slice 和 数组的区别

string 从 "abc" 到 "abcd"，如何分配内存的

有看过 unsafe 包吗

说一下 string 和 []byte 的高效转换

协程和线程的区别

GMP模型

golang gc 的流程

你觉得 java 和 golang 有什么区别

mysql
innodb 和 myisam 的区别

主键和索引的联系和区别

docker
docker 和 虚拟机 的区别

算法
1 数组平方
给你一个按 非递减顺序 排序的整数数组 nums，返回 每个数字的平方 组成的新数组，要求也按 非递减顺序 排序。

输入：nums = [-4,-1,0,3,10] 输出：[0,1,9,16,100] 解释：平方后，数组变为 [16,1,0,9,100] 排序后，数组变为 [0,1,9,16,100]

2 无重复字符的最长子串
给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。

输入: s = "abcabcbb" 输出: 3 解释: 因为无重复字符的最长子串是 "abc"，所以其长度为 3。

输入: s = "bbbbb" 输出: 1 解释: 因为无重复字符的最长子串是 "b"，所以其长度为 1。

字节跳动-今日头条-二面
2021-2-25 用时 55min
主要是问了 项目，基础，学习生活 等

介绍一下最有挑战的项目

研究的方向

实习时长

软链接和硬链接

mysql 索引 B+树

索引优化

explain 执行计划

extra的 using indexing 和 using where

覆盖索引

聚簇索引和辅助索引

redis 了解吗

nosql 说下

golang gc

ipv4 和 ipv6

tcp 的阻塞控制

拥塞避免后再次慢开始还会从1开始吗

为什么 tcp 需要拥塞控制

学习生活

算法：和可被k整除的子数组（这里用了35min，要了若干次提示QAQ）

 给定一个整数数组 A，返回其中元素之和可被 K 整除的（连续、非空）子数组的数目，时间要求O(n)。  输入：A = [4,5,0,-2,-3,1], K = 5  输出：7  解释： 有 7 个子数组满足其元素之和可被 K = 5 整除： [4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3]   提示：  1 <= A.length <= 30000  -10000 <= A[i] <= 10000  2 <= K <= 10000

字节跳动-清北网校-三面
2021-3-1 用时 55min
聊天，为何转服务端，为何自学go

go 的优势

gmp 及该模型好处

聊聊最满意的项目，亮点，难度

进程和线程区别

多进程和多线程注意要点和适用场景

多进程通信为何比多线程通信麻烦

地址空间是什么

虚拟地址和物理地址的区别和关系

堆区和栈区的区别

垃圾回收 相比程序员直接 free 和 delete 之类的，有什么优化（内存碎片）

cookie 和 session 的区别

session 一般存在哪里

sessionId 如何维护（cookie 里带有 sessionId)

xss 和 csrf

数据库查数据慢，怎么解决？

sql 优化

哈希索引 和 B+树索引 的区别

哈希索引在内存还是在硬盘

哈希算法

哈希表实现

除了 go 还有学别的吗

技术方面最熟悉的

Linux 了解吗

shell 编程会吗（不太会 - -||

如何看 Linux 程序是多进程还是多线程的（ps PPID, PID？

算法：合并 n 个 m 长的数组，分析时间复杂度

反问，问了挺多，面试官挺耐心
```

## 第五个

```python
面试时间 中午11点开始，一个多小时，牛客网视频面试
开始简单自我介绍，聊项目
C++
问的比较基础，多态 ，stl vector、list的区别，访问权限，虚函数实现机制，智能指针

计算机网络
重点问TCP，问的挺细不过也挺基础的，这部分我自学的只了解大概，所以答的不是特别好， 一定要清晰
tcp建立连接的时候在协商什么，三次握手四次挥手，可靠性，流量控制拥塞控制怎么实现
HTTP各版本存在什么问题，区别是什么
HTTP、HTTPS，重点看HTTPS的过程，非对称加密
输入HTTPS网址之后的过程
DNS查询方法
这部分面试官真的会一直追问， 一定要了解清楚，不能只知道大概

编程
LRU缓存，给出了思路，但查询用了O(n), 强调查询O(1)，key重复怎么办。让用list，平时list库函数用的少，被卡了一会儿，难受

反问环节，问能不能进二面，答等HR通知。

面试官挺好的，会引导你，是我自己不争气呜呜呜，估计收不到二面了。面试中不会的问题直接说不会不了解就行，不要强撑，这不是政治考试哈哈哈。吸取教训，继续加油！
```

## 第六个

```python
简单介绍下背景：本人已工作两年，这次属于社招，不是校招哦！投递的岗位base是北京。

先上正文，一面内容大概：
先来道算法题，不难：链表表示的两个数相加。面试官说不用运行，大概写一下就行，说是因为说牛客上的运行环境不行。这题之前做过，写完之后没跑就直接给他了，他问是不是之前刷过，为了装逼我说没有刷过，然后回答说：这题不就是CPU的加法器的实现嘛，计算机组成原理。
Https的过程讲一下。先是说了http+ssl，dns之后，准备讲ssl的原理时，他示意我说回答一下传输层相关的。然后我就回答了tcp三次握手，对着服务器端指定端口，比如80端口发起连接，之后就是正常的数据请求了。
缓存穿透和缓存击穿。其实是知道雪崩、穿透和击穿的，但是一下子没直接说分清穿透和击穿，主要是太久没用过，突然觉得击穿和穿透，好像都差不多啊。
Go 协程简单用法；
Go func与method之前的那个Receiver是什么？（答：类似Java的实例本身，效果同java中的this关键字，同时在go method也可以把这个Receiver当做参数来正常使用）；
java 实例放在哪个区，常量放在哪个区；
说一下Netty的IO原理，答：Reactor反应模型，Linux那边叫做IO多路复用。一个线程用来接收请求，将读写事件交给背后的worker线程。Redis、Nginx、Netty都是用到了这种模型。Redis其实也是多线程，只不过是用单线程来接收请求，在客户端看起来是串行接收执行，所以效果上就是单线程。但是IO多路复用才是Redis能高并发的底层保证。
MySQL left join、inner join：inner的就是差集、left的就是保左边；
Go的闭包语法，答了内部函数对外层函数局部变量的引用，类似的还有js、java的lambda；
Redis的setnx；(这个虽然只是提了一下，但是感觉没答好，需要加强。顾着准备Redis集群原理去了)
分布式锁的提供方，答：用过ZK和Redis的分布式锁；
项目相关问了不少，比如前家公司所负责项目的主要内容；
项目所产生的的一些价值，可以具体点，用一些案例或者数字来佐证都行；(这块没答好，接下来二面需要再整个关于项目经验的描述、个人所负责项目、产生的价值等，越具体越好，能有一些具体案例或者数据来支撑更好)；
接上，总之，也要花点时间来回顾自己在之前公司的贡献和工作内容，越详细越具体越好，拒绝假大空；
算法题：
给出两个 非空 的链表用来表示两个非负的整数。其中，它们各自的位数是按照 逆序 的方式存储的，并且它们的每个节点只能存储 一位 数字。
如果，我们将这两个数相加起来，则会返回一个新的链表来表示它们的和。
您可以假设除了数字 0 之外，这两个数都不会以 0 开头。
示例：
输入：(2 -> 4 -> 3) + (5 -> 6 -> 4)
输出：7 -> 0 -> 8
原因：342 + 465 = 807


二面大概内容：
自我介绍，主要是说了工作经历，负责的项目的主要内容，越详细越好，把最能体验价值的结果或者报告什么的讲一讲；
TCP四次挥手，结合CS两端点的TCP栈和上层应用的交互来解释四次挥手，以及为何需要中间那个FIN-WAIT-2这个过程，最后由被动关闭一方的上层应用通过调用socket.closed()来结束数据传输，进入最终的FIN模式；
操作系统内存模型？这玩意儿不是就段页转换啥的嘛，面试官进一步提示说哪些区放数据，哪些区放线程数据之类的，我问了下您是问类似JVM内存模型那样子的吗？他说不是。我又说，那不是的话，我对操作系统内存模型的认知大概就是高地址空间存放内核数据，然后低地址空间对于进程来说就是个虚拟空间，拥有完整的寻址空间，这里存放着进程的数据和代码等，再细就不是很了解了，然后就跳过这题了；
算法题是股票买卖，一次和无限次两种。写出了无限次的情况，一次的一下子忘记怎么转过来，这题做的比较卡，整题至少有20分钟，哎。今天下午复习的时候还再次复习看了这个股票全家桶系列的解法呢，感觉只有看是不行的，要有充足的时间，就算没有从头理解，也要再默写一遍才算复习过。所以下次如果没有复习状态的时候，不要看着文字思路发呆，可以边默写边找回状态，嗯；
算法题：
给定一个数组代表股票每天的价格，请问只能买卖一次的情况下，最大化利润是多少？日期不重叠的情况下，可以买卖多次呢？
输入: {100, 80, 120, 130, 70, 60, 100, 125}
1）只能买一次：65（60 买进，125 卖出）
2）可以买卖多次: 115（80买进，130卖出；60 买进，125卖出）
输出买卖的序列和最大利润


三面主要内容如下：
自我介绍；
介绍项目情况，重点说了近一年的工作项目的大概；
研究生在校的研究内容之类的，比较杂；
项目中的技术亮点：了解几个，面试官貌似对这些也不是很感兴趣，这估计也是后面他觉得我没有成长的原因吧，可能认为这些东西我在之前就应该都学会了的；
实现简单令牌桶算法，没有考虑随时间滑动的情况；
加强版：令牌桶，加上随时间滑动的要求，即：限制用户在任一连续的一小时内，不能超过5W的请求。这边提到了说将一小时分成多格，比如60格这样的，面试官点头貌似同意了，然后就实现代码了，包括协程异步更新时间窗口；
没有基础知识问答；
没有算法题；
三面反问环节，问：我咋样？（措辞是： 这简短的面试交谈过程中，您觉得我咋样？）， 面试官说，我这一年来成长不大，几乎没变化，可是我觉得这一年来才是稍微有点儿进步的呀。
不过，经过这么一问，觉得反问环节也挺有意思，以后如果再有面试，反问环境可以多问些面试官关于我们自己的评价和看法，比如：上面说的您觉得经过这一小时的交流，我整体怎么样？如果像上面的面试官说最近一年进步不大，那么应该继续追问：那您觉得应该向什么方向去深入学习和思考比较好呢？态度诚恳一点就行，作为面试官人家还是乐意帮你指出不足之处的。
而上述的两个问题：我咋样和如何改，抛开offer不谈，这两个问题我觉得可以说是正常面试最大的收获了。而面试之前准备的那些知识毕竟比较零散，还是需要靠平时的积累来巩固。面试最重要的是让他人来评价你，以前没反问这两个问题的时候，这些评价人家面试官基本不会主动告诉你，只会整理一下然后录入到公司的人才管理系统，以供后续评价。但你现在反问一下，就可以得知这两条信息，这些评价信息对你来说才是最有用的，放在公司它只是大量候选人评价数据中的一份，可有可无。但对你来说却是个宝贵的信息，你可以据此从别人的视角来审视自己，这种换个角度的审视比自己平日里思考写总结来得客观。毕竟你表现出来的才是客观的，内在的其他没表达出来的方面只能说你表达能力不行，也是种缺点，需要反思之一。
如果没有进行这样的反问，就不能更加全面的得知别人对你的看法，也就错过发现自己弱点和改正的机会，以前面试反问环节都是傻傻的问一些没多大意义的问题。今后应当多注意，要懂得跟面试官“要回”属于你的那份评价信息。


以上就是面试过程中涉及的一些内容，属于流水记账式的列了一下，下面谈谈一些感想吧。
关于算法的考察。结合上述三面的内容，会发现对于社招来说，算法题的比重并没有特别大，相反，工作经验和项目这块的占比会更多，但也不是说不考核算法，该刷的题还是得继续刷，算法是基础；
关于工作项目的梳理，有几个感想。首先表达清楚项目介绍的内容，然后是价值所在，关于项目所产生的的价值和你所做的贡献，这个很重要，是衡量你价值的一个点儿。最好能够梳理一下过去的一些文档和报告，整个具体的数据和细节点来谈谈，避免假大空；
日常工作中，最好有意识的去参加一些高质量的bug交流解决当中，这样不仅能够在日后面试当中跟面试官交流，也能在当初解决问题的时候提升自己的能力。这类高质量bug的解决就属于技术亮点，很考验一个人的基本功；
自我介绍的时候，就不用说自己叫什么、哪里人、什么时候在哪个学校毕业之类的，直接说毕业之后在哪里工作，负责的项目是啥，然后就可以把提前准备好的关于上述第二点的内容都讲一遍；

```

