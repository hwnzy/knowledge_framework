# 魔法方法

## \_\_init\_\_\(\)方法 <a id="init&#x65B9;&#x6CD5;"></a>

* `__init__()`方法，在创建一个对象时默认被调用，不需要手动调用
* `__init__(self)`中的self参数，不需要开发者传递，python解释器会自动把当前的对象引用传递过去。
* 通过一个类，可以创建多个对象，就好比 通过一个模具创建多个实体一样
* `__init__(self)`中，默认有1个参数名字为self，如果在创建对象时传递了2个实参，那么`__init__(self)`中出了self作为第一个形参外还需要2个形参，例如`__init__(self,x,y)`

1. 在类内部获取 属性 和 实例方法，通过self获取；
2. 在类外部获取 属性 和 实例方法，通过对象名获取。
3. 如果一个类有多个对象，每个对象的属性是各自保存的，都有各自独立的地址；
4. 但是实例方法是所有对象共享的，只占用一份内存空间。类会通过self来判断是哪个对象调用了实例方法。

## \_\_str\_\_\(\)方法 <a id="str&#x65B9;&#x6CD5;"></a>

* 在python中方法名如果是`__xxxx__()`的，那么就有特殊的功能，因此叫做“魔法”方法
* 当使用print输出对象的时候，默认打印对象的内存地址。如果类定义了`__str__(self)`方法，那么就会打印从在这个方法中 `return` 的数据
* `__str__`方法通常返回一个字符串，作为这个对象的描述信息

### `__del__()`方法 <a id="del&#x65B9;&#x6CD5;"></a>

创建对象后，python解释器默认调用`__init__()`方法；

当删除对象时，python解释器也会默认调用一个方法，这个方法为`__del__()`方法

* 当有变量保存了一个对象的引用时，此对象的引用计数就会加1；
* 当使用del\(\) 删除变量指向的对象时，则会减少对象的引用计数。如果对象的引用计数不为1，那么会让这个对象的引用计数减1，当对象的引用计数为0的时候，则对象才会被真正删除（内存被回收）。

