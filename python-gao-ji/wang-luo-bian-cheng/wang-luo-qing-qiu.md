# 网络请求

## 简述浏览器通过 WSGI 请求动态资源的过程?

1.发送 http 请求动态资源给 web 服务器 

2.web 服务器收到请求后通过 WSGI 调用一个属性给应用程序框架 

3.应用程序框架通过引用 WSGI 调用 web 服务器的方法，设置返回的状态和头信息。 

4.调用后返回，此时 web 服务器保存了刚刚设置的信息 

5.应用程序框架查询数据库，生成动态页面的 body 的信息 

6.把生成的 body 信息返回给 web 服务器 

7.web 服务器把数据返回给浏览器

## 描述用浏览器访问 www.baidu.com 的过程

先要解析出 baidu.com 对应的 ip 地址 

x 要先使用 arp 获取默认网关的 mac 地址 

x 组织数据发送给默认网关\(ip 还是 dns 服务器的 ip，但是 mac 地址是默认网关的 mac 地址\) 

x 默认网关拥有转发数据的能力，把数据转发给路由器 

x 路由器根据自己的路由协议，来选择一个合适的较快的路径转发数据给目的网关 

x 目的网关\(dns 服务器所在的网关\)，把数据转发给 dns 服务器 

x dns 服务器查询解析出 baidu.com 对应的 ip 地址，并原路返回请求这个域名的 client 

得到了 baidu.com 对应的 ip 地址之后，会发送 tcp 的 3 次握手，进行连接

使用 http 协议发送请求数据给 web 服务器 

x web 服务器收到数据请求之后，通过查询自己的服务器得到相应的结果，原路返回给浏览器。 

x 浏览器接收到数据之后通过浏览器自己的渲染功能来显示这个网页。 

x 浏览器关闭 tcp 连接，即 4 次挥手结束，完成整个访问过程

## Post 和 Get 请求的区别?

GET 请求，请求的数据会附加在 URL 之后，以?分割 URL 和传输数据，多个参数用&连接。 URL 的 编码格式采用的是 ASCII 编码，而不是 uniclde，即是说所有的非 ASCII 字符都要编码之后再传输。 

POST 请求：

POST 请求会把请求的数据放置在 HTTP 请求包的包体中。上面的 item=bandsaw 就 是实际的传输数据。 因此，GET 请求的数据会暴露在地址栏中，而 POST 请求则不会。 

传输数据的大小： 

x 在 HTTP 规范中，没有对 URL 的长度和传输的数据大小进行限制。但是在实际开发过程中，对 于 GET，特定的浏览器和服务器对 URL 的长度有限制。因此，在使用 GET 请求时，传输数据会 受到 URL 长度的限制。 

x 对于 POST，由于不是 URL 传值，理论上是不会受限制的，但是实际上各个服务器会规定对 POST 提交数据大小进行限制，Apache、 IIS 都有各自的配置。 

安全性： 

x POST 的安全性比 GET 的高。这里的安全是指真正的安全，而不同于上面 GET 提到的安全方法 中的安全，上面提到的安全仅仅是不修改服务器的数据。比如，在进行登录操作，通过 GET 请求， 用户名和密码都会暴露再 URL 上，因为登录页面有可能被浏览器缓存以及其他人查看浏览器的历史记录的原因，此时的用户名和密码就很容易被他人拿到了。除此之外，GET 请求提交的数据 还可能会造成 Cross-site request frogery 攻击

效率：GET 比 POST 效率高。 

POST 请求的过程： 

1.浏览器请求 tcp 连接（第一次握手） 

2.服务器答应进行 tcp 连接（第二次握手） 

3.浏览器确认，并发送 post 请求头（第三次握手，这个报文比较小，所以 http 会在此时进行 第一次数据发送） 

4.服务器返回 100 continue 响应 

5.浏览器开始发送数据 

6.服务器返回 200 ok 响应 

GET 请求的过程： 

1.浏览器请求 tcp 连接（第一次握手） 

2.服务器答应进行 tcp 连接（第二次握手） 

3.浏览器确认，并发送 get 请求头和数据（第三次握手，这个报文比较小，所以 http 会在此时 进行第一次数据发送） 

4.服务器返回 200 OK 响应



