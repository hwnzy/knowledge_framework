# 后端面试

## 后端面试

基础 

## ★★★ 进程与线程的本质区别、以及各自的使用场景。

1. 进程

进程是资源（CPU、内存等）分配的基本单位，它是程序执行时的一个实例。

程序运行时系统就会创建一个进程，并为它分配资源，然后把该进程放入进程就绪队列

进程调度器选中它的时候就会为它分配CPU时间，程序开始真正运行。

1.1 进程的状态和切换

* 就绪状态：进程已获得除处理机以外的所需资源，等待分配处理机资源
* 运行状态：占用处理机资源运行，处于此状态的进程数小于等于CPU数
* 阻塞状态： 进程等待某种条件，在条件满足之前无法执行

操作系统为了控制进程的执行，必须有能力挂起正在CPU上运行的进程，并恢复以前挂起的某个进程的执行，这种行为被称为进程切换，任务切换或上下文切换。  


![](../.gitbook/assets/image%20%2899%29.png)

![](../.gitbook/assets/image%20%28100%29.png)

2. 什么是线程

线程是程序执行时的最小单位，它是进程的一个执行流，是CPU调度和分派的基本单位。

一个进程可以由很多个线程组成，线程间共享进程的所有资源，每个线程有自己的堆栈和局部变量。

线程由CPU独立调度执行，在多CPU环境下就允许多个线程同时运行。同样多线程也可以实现并发操作，每个请求分配一个线程来处理。

3. 进行和线程之间的区别

1. 调度 ：在引入线程的操作系统中，线程是调度和分配的基本单位 ，进程是资源拥有的基本单位 。把传统进程的两个属性分开，线程便能轻装运行，从而可 显著地提高系统的并发程度 。在同一进程中，线程的切换不会引起进程的切换；在由一个进程中的线程切换到另一个进程中的线程时，才会引起进程的切换。
2. 并发性 ：在引入线程的操作系统中，不仅进程之间可以并发执行，而且在一个进程中的多个线程之间亦可并发执行，因而使操作系统具有更好的并发性，从而能 更有效地使用系统资源和提高系统吞吐量。
3. 拥有资源 ：不论是传统的操作系统，还是设有线程的操作系统，进程都是拥有资源的一个独立单位，它可以拥有自己的资源。一般地说，线程自己不拥有系统资源（只有一些必不可少的资源，但它可以访问其隶属进程的资源。
4. 系统开销：由于在创建或撤消进程时，系统都要为之分配或回收资源，因此，操作系统所付出的开销将显著地大于在创建或撤消线程时的开销。进程切换的开销也远大于线程切换的开销。
5. 通信：进程间通信IPC，线程间可以直接读写进程数据段（如全局变量）来进行通信——需要进程同步和互斥手段的辅助，以保证数据的一致性，因此共享简单。但是线程的数据同步要比进程略复杂。

4. 进行和线程之间的相同点

进程和线程都有ID/寄存器组、状态和优先权、信息块，创建后都可更改自己的属性，都可与父进程共享资源、都不能直接访问其他无关进程或线程的资源

5. 进程和线程的使用场景

有了以上进程和线程的异同点，不难得出结论：

1. 需要频繁创建销毁的优先使用线程；因为对进程来说创建和销毁一个进程代价是很大的。
2. 线程的切换速度快，所以在需要大量计算，切换频繁时用线程，还有耗时的操作使用线程可提高应用程序的响应
3. 因为对CPU系统的效率使用上线程更占优，所以可能要发展到多机分布的用进程，多核分布用线程；
4. 并行操作时使用线程，如C/S架构的服务器端并发线程响应用户的请求；
5. 需要更稳定安全时，适合选择进程；需要速度时，选择线程更好。

★☆☆ 进程状态。 

★★★ 进程调度算法的特点以及使用场景。 

★☆☆ 线程实现的方式。 

★★☆ 协程的作用。 

★★☆ 常见进程同步问题。 

★★★ 进程通信方法的特点以及使用场景。 

★★★ 死锁必要条件、解决死锁策略，能写出和分析死锁的代码，能说明在数据库管理系统或者 Java 中如何解决死锁。 

★★★ 虚拟内存的作用，分页系统实现虚拟内存原理。 

★★★ 页面置换算法的原理，特别是 LRU 的实现原理，最好能手写，再说明它在 Redis 等作为缓存置换算法。 

★★★ 比较分页与分段的区别。 

★★★ 分析静态链接的不足，以及动态链接的特点。

Linux

★★☆ 文件系统的原理，特别是 inode 和 block。数据恢复原理。 ★★★ 硬链接与软链接的区别。 ★★☆ 能够使用常用的命令，比如 cat 文件内容查看、find 搜索文件，以及 cut、sort 等管线命令。了解 grep 和 awk 的作用。 ★★★ 僵尸进程与孤儿进程的区别，从 SIGCHLD 分析产生僵尸进程的原因。网络基础★★★ 各层协议的作用，以及 TCP/IP 协议的特点。 ★★☆ 以太网的特点，以及帧结构。 ★★☆ 集线器、交换机、路由器的作用，以及所属的网络层。 ★★☆ IP 数据数据报常见字段的作用。 ★☆☆ ARP 协议的作用，以及维护 ARP 缓存的过程。 ★★☆ ICMP 报文种类以及作用；和 IP 数据报的关系；Ping 和 Traceroute 的具体原理。 ★★★ UDP 与 TCP 比较，分析上层协议应该使用 UDP 还是 TCP。 ★★★ 理解三次握手以及四次挥手具体过程，三次握手的原因、四次挥手原因、TIME\_WAIT 的作用。 ★★★ 可靠传输原理，并设计可靠 UDP 协议。 ★★☆ TCP 拥塞控制的作用，理解具体原理。 ★★☆ DNS 的端口号；TCP 还是 UDP；作为缓存、负载均衡。HTTP★★★ GET 与 POST 比较：作用、参数、安全性、幂等性、可缓存。 ★★☆ HTTP 状态码。 ★★★ Cookie 作用、安全性问题、和 Session 的比较。 ★★☆ 缓存 的 Cache-Control 字段，特别是 Expires 和 max-age 的区别。ETag 验证原理。 ★★★ 长连接与短连接原理以及使用场景，流水线。 ★★★ HTTP 存在的安全性问题，以及 HTTPs 的加密、认证和完整性保护作用。 ★★☆ HTTP/1.x 的缺陷，以及 HTTP/2 的特点。 ★★★ HTTP/1.1 的特性。 ★★☆ HTTP 与 FTP 的比较。Socket★★☆ 五种 IO 模型的特点以及比较。 ★★★ select、poll、epoll 的原理、比较、以及使用场景；epoll 的水平触发与边缘触发。数据库SQL★★☆ 手写 SQL 语句，特别是连接查询与分组查询。 ★★☆ 连接查询与子查询的比较。 ★★☆ drop、delete、truncate 比较。 ★★☆ 视图的作用，以及何时能更新视图。 ★☆☆ 理解存储过程、触发器等作用。系统原理★★★ ACID 的作用以及实现原理。 ★★★ 四大隔离级别，以及不可重复读和幻影读的出现原因。 ★★☆ 封锁的类型以及粒度，两段锁协议，隐式和显示锁定。 ★★★ 乐观锁与悲观锁。 ★★★ MVCC 原理，当前读以及快照读，Next-Key Locks 解决幻影读。 ★★☆ 范式理论。 ★★★ SQL 与 NoSQL 的比较。MySQL★★★ B+ Tree 原理，与其它查找树的比较。 ★★★ MySQL 索引以及优化。 ★★★ 查询优化。 ★★★ InnoDB 与 MyISAM 比较。 ★★☆ 水平切分与垂直切分。 ★★☆ 主从复制原理、作用、实现。 ★☆☆ redo、undo、binlog 日志的作用。Redis★★☆ 字典和跳跃表原理分析。 ★★★ 使用场景。 ★★★ 与 Memchached 的比较。 ★☆☆ 数据淘汰机制。 ★★☆ RDB 和 AOF 持久化机制。 ★★☆ 事件驱动模型。 ★☆☆ 主从复制原理。 ★★★ 集群与分布式。 ★★☆ 事务原理。 ★★★ 线程安全问题。

