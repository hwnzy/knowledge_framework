# Django的项目问题

## Django创建项目后项目文件夹下组成部分

* mange.py：项目运行入口，指定配置文件路径
* 与项目同名的目录
  * \_\_init\_\_.py：Python包的构造文件，可以做一些初始化操作
  * settings.py：项目整体配置文件
  * urls.py：项目的URL配置文件
  * wsgi.py：项目与WSGI兼容的Web服务器

## Django如何提升性能（高并发）

对于后端程序员来说，提升性能指标主要有两个，一个是并发数，一个是响应时间。

网站的性能优化一般包括：web前端性能优化，应用服务器性能优化，存储服务器优化：

*  web前端性能优化
  * 减少HTTP请求，减少数据库访问量，比如使用雪碧图（CSS Sprites 类似于游戏开发中的精灵图块，把一堆小图标整合在一张背景透明的大图上）
  * 使用浏览器缓存，将一些常用的css,js,logo图标等静态资源缓存到本地浏览器，通过设置http中的cache-control和expires的属性，可以设定浏览器缓存，缓存时间。
  * 对html,css,javascript文件进行压缩，减少网络的通信量
* 应用服务器优化
  * 使用celery消息队列，将耗时的操作扔进队列里，让worker去监听队列里的任务，实现异步操作，比如发邮件、发短信。
  * 代码上的优化
    * 优化算法时间：

      > Python中可以通过选择合适的数据结构来优化时间复杂度，如list和set查找某个元素的时间复杂度分别为O\(n\)和O\(1\)。还可以使用分治，分支界限，贪心，动态规划等思想

    * 循环优化：

      > 在Python原生的解释器下减少在循环内部执行的工作量，例如可以用变量代替求得的值，使值变成已知的。

    * 函数选择
    * 并行编程
  * 配置合适的配置参数，提升效率，增加并发量
  * 搭建服务器集群，将并发访问请求分散到多台服务器上处理
  * 运维人员性能优化技术
  * 服务器使用固态硬盘技术
* 存储服务器优化
  * 合理使用缓存技术，对一些常用到的动态数据，比如首页做一个缓存，或者常用数据做一个缓存，设置一定的过期时间，减少对数据库的压力，提升网站性能。

## Django项目调试

1. 使用Django的error page

   > 适用于测试环境。Django的error page功能很强大，能提供详细的traceback，包括局部变量的值，请求中的GET、POST、COOKIE数据，HTTP环境中所有重要的META fields

2. 输出log到开发服务器终端中

   > 适用于生产环境，借助python的logging模块

